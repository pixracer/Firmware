diff --git NuttX/nuttx/arch/arm/src/stm32f7/stm32_serial.c NuttX/nuttx/arch/arm/src/stm32f7/stm32_serial.c
index 5b57549..2c1c0ac 100644
--- NuttX/nuttx/arch/arm/src/stm32f7/stm32_serial.c
+++ NuttX/nuttx/arch/arm/src/stm32f7/stm32_serial.c
@@ -290,7 +290,7 @@ struct up_dev_s
   bool              rxenable;  /* DMA-based reception en/disable */
   uint16_t          rxdmain;   /* Next byte in the DMA where hardware will write */
   uint16_t          rxdmaout;  /* Next byte in the DMA buffer to be read */
-  VAR char * const  rxfifo;    /* Receive DMA buffer */
+  char       *const rxfifo;    /* Receive DMA buffer */
 #endif
 
 #ifdef HAVE_RS485
diff --git NuttX/nuttx/drivers/mtd/ramtron.c NuttX/nuttx/drivers/mtd/ramtron.c
index a81469f..79d925f 100644
--- NuttX/nuttx/drivers/mtd/ramtron.c
+++ NuttX/nuttx/drivers/mtd/ramtron.c
@@ -833,7 +833,10 @@ FAR struct mtd_dev_s *ramtron_initialize(FAR struct spi_dev_s *dev)
   /* Register the MTD with the procfs system if enabled */
 
 #ifdef CONFIG_MTD_REGISTRATION
-  mtd_register(&priv->mtd, "ramtron");
+  if (priv)
+    {
+      mtd_register(&priv->mtd, "ramtron");
+    }
 #endif
 
   /* Return the implementation-specific state structure as the MTD device */
